{
  "version": 3,
  "sources": ["../../node_modules/@alpinejs/persist/dist/module.esm.js"],
  "sourcesContent": ["// packages/persist/src/index.js\nfunction src_default(Alpine) {\n  let persist = () => {\n    let alias;\n    let storage;\n    try {\n      storage = localStorage;\n    } catch (e) {\n      console.error(e);\n      console.warn(\"Alpine: $persist is using temporary storage since localStorage is unavailable.\");\n      let dummy = /* @__PURE__ */ new Map();\n      storage = {\n        getItem: dummy.get.bind(dummy),\n        setItem: dummy.set.bind(dummy)\n      };\n    }\n    return Alpine.interceptor((initialValue, getter, setter, path, key) => {\n      let lookup = alias || `_x_${path}`;\n      let initial = storageHas(lookup, storage) ? storageGet(lookup, storage) : initialValue;\n      setter(initial);\n      Alpine.effect(() => {\n        let value = getter();\n        storageSet(lookup, value, storage);\n        setter(value);\n      });\n      return initial;\n    }, (func) => {\n      func.as = (key) => {\n        alias = key;\n        return func;\n      }, func.using = (target) => {\n        storage = target;\n        return func;\n      };\n    });\n  };\n  Object.defineProperty(Alpine, \"$persist\", { get: () => persist() });\n  Alpine.magic(\"persist\", persist);\n  Alpine.persist = (key, { get, set }, storage = localStorage) => {\n    let initial = storageHas(key, storage) ? storageGet(key, storage) : get();\n    set(initial);\n    Alpine.effect(() => {\n      let value = get();\n      storageSet(key, value, storage);\n      set(value);\n    });\n  };\n}\nfunction storageHas(key, storage) {\n  return storage.getItem(key) !== null;\n}\nfunction storageGet(key, storage) {\n  return JSON.parse(storage.getItem(key, storage));\n}\nfunction storageSet(key, value, storage) {\n  storage.setItem(key, JSON.stringify(value));\n}\n\n// packages/persist/builds/module.js\nvar module_default = src_default;\nexport {\n  module_default as default\n};\n"],
  "mappings": ";;;AACA,SAAS,YAAY,QAAQ;AAC3B,MAAI,UAAU,MAAM;AAClB,QAAI;AACJ,QAAI;AACJ,QAAI;AACF,gBAAU;AAAA,IACZ,SAAS,GAAG;AACV,cAAQ,MAAM,CAAC;AACf,cAAQ,KAAK,gFAAgF;AAC7F,UAAI,QAAwB,oBAAI,IAAI;AACpC,gBAAU;AAAA,QACR,SAAS,MAAM,IAAI,KAAK,KAAK;AAAA,QAC7B,SAAS,MAAM,IAAI,KAAK,KAAK;AAAA,MAC/B;AAAA,IACF;AACA,WAAO,OAAO,YAAY,CAAC,cAAc,QAAQ,QAAQ,MAAM,QAAQ;AACrE,UAAI,SAAS,SAAS,MAAM,IAAI;AAChC,UAAI,UAAU,WAAW,QAAQ,OAAO,IAAI,WAAW,QAAQ,OAAO,IAAI;AAC1E,aAAO,OAAO;AACd,aAAO,OAAO,MAAM;AAClB,YAAI,QAAQ,OAAO;AACnB,mBAAW,QAAQ,OAAO,OAAO;AACjC,eAAO,KAAK;AAAA,MACd,CAAC;AACD,aAAO;AAAA,IACT,GAAG,CAAC,SAAS;AACX,WAAK,KAAK,CAAC,QAAQ;AACjB,gBAAQ;AACR,eAAO;AAAA,MACT,GAAG,KAAK,QAAQ,CAAC,WAAW;AAC1B,kBAAU;AACV,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO,eAAe,QAAQ,YAAY,EAAE,KAAK,MAAM,QAAQ,EAAE,CAAC;AAClE,SAAO,MAAM,WAAW,OAAO;AAC/B,SAAO,UAAU,CAAC,KAAK,EAAE,KAAK,IAAI,GAAG,UAAU,iBAAiB;AAC9D,QAAI,UAAU,WAAW,KAAK,OAAO,IAAI,WAAW,KAAK,OAAO,IAAI,IAAI;AACxE,QAAI,OAAO;AACX,WAAO,OAAO,MAAM;AAClB,UAAI,QAAQ,IAAI;AAChB,iBAAW,KAAK,OAAO,OAAO;AAC9B,UAAI,KAAK;AAAA,IACX,CAAC;AAAA,EACH;AACF;AACA,SAAS,WAAW,KAAK,SAAS;AAChC,SAAO,QAAQ,QAAQ,GAAG,MAAM;AAClC;AACA,SAAS,WAAW,KAAK,SAAS;AAChC,SAAO,KAAK,MAAM,QAAQ,QAAQ,KAAK,OAAO,CAAC;AACjD;AACA,SAAS,WAAW,KAAK,OAAO,SAAS;AACvC,UAAQ,QAAQ,KAAK,KAAK,UAAU,KAAK,CAAC;AAC5C;AAGA,IAAI,iBAAiB;",
  "names": []
}
